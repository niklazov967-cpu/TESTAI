# Конфигурация распределения ролей между моделями Cursor

## ⚠️ ВАЖНО: Использование Multi-Model режима

**Этот проект требует использования ОБЕИХ моделей одновременно:**
- **Composer 1** - для генерации и редактирования кода
- **Sonnet 4.5** - для анализа, планирования и проверки

**Если используется только одна модель, это нарушение конфигурации проекта.**

## Распределение задач между Composer 1 и Sonnet 4.5

### Composer 1 (Основной исполнитель)
**Роль:** Генерация и редактирование кода
**Используется для:**
- Создание новых файлов и компонентов
- Рефакторинг существующего кода
- Исправление синтаксических ошибок
- Реализация функций по спецификации
- Работа с файловой структурой проекта
- Быстрые итерации разработки

**Примеры задач:**
- "Создай новый компонент для..."
- "Исправь ошибку в файле..."
- "Добавь функцию..."
- "Рефакторинг кода..."

### Sonnet 4.5 (Аналитик и валидатор)
**Роль:** Анализ, планирование и проверка качества
**Используется для:**
- Архитектурное планирование
- Анализ сложных проблем
- Проверка логики и алгоритмов
- Оптимизация производительности
- Проверка безопасности кода
- Рецензирование кода от Composer 1
- Сложные рассуждения и принятие решений

**Примеры задач:**
- "Проанализируй архитектуру..."
- "Проверь правильность логики..."
- "Найди потенциальные проблемы..."
- "Оптимизируй производительность..."
- "Проверь безопасность..."

## Правила работы

### ⚠️ ОБЯЗАТЕЛЬНО: Использование обеих моделей

**Для ЛЮБОЙ задачи должны использоваться ОБЕ модели:**

1. **Планирование** → Sonnet 4.5 анализирует задачу и создает план
2. **Реализация** → Composer 1 выполняет план и создает код
3. **Проверка** → Sonnet 4.5 проверяет результат и предлагает улучшения
4. **Итерация** → При необходимости цикл повторяется

**НЕ используйте только одну модель для выполнения задач!**

### Автоматическое распределение (ОБЕ модели обязательны)

- **Простые задачи** (1-2 файла) → Sonnet 4.5 планирует → Composer 1 реализует → Sonnet 4.5 проверяет
- **Средние задачи** (3-5 файлов) → Sonnet 4.5 планирует → Composer 1 реализует → Sonnet 4.5 проверяет
- **Сложные задачи** (архитектура, рефакторинг) → Sonnet 4.5 планирует → Composer 1 реализует → Sonnet 4.5 проверяет

**ВСЕГДА используйте обе модели, даже для простых задач!**

### Cycle Agent Count
- Простые задачи: 1-2 цикла
- Средние задачи: 2-3 цикла
- Сложные задачи: 3-5 циклов

## Специфика проекта (Поиск аналогов сталей)

### Composer 1 отвечает за:
- Реализацию API endpoints
- Создание новых этапов обработки
- Работу с клиентами API (Tavily, DeepSeek, OpenAI)
- Управление кэшем и конфигурацией
- Frontend компоненты (HTML, CSS, JS)

### Sonnet 4.5 отвечает за:
- Анализ промптов и их оптимизацию
- Проверку логики валидации
- Оптимизацию алгоритмов поиска
- Анализ производительности конвейера
- Проверку корректности химических формул и расчетов

## Инструкции для моделей

### ⚠️ КРИТИЧЕСКИ ВАЖНО: Работа в паре

**Каждая задача должна выполняться ОБЕИМИ моделями последовательно:**

### При работе с промптами:
1. **Sonnet 4.5** анализирует эффективность промптов и создает план улучшений
2. **Composer 1** реализует изменения в файлах промптов согласно плану
3. **Sonnet 4.5** проверяет реализацию и подтверждает корректность

### При работе с API:
1. **Sonnet 4.5** планирует структуру запросов и обработку ошибок
2. **Composer 1** реализует клиенты и обработчики согласно плану
3. **Sonnet 4.5** проверяет код на безопасность и корректность

### При работе с валидацией:
1. **Sonnet 4.5** проверяет логику валидации и веса критериев
2. **Composer 1** реализует изменения в коде валидации
3. **Sonnet 4.5** проверяет, что изменения корректны

### Общее правило:
**НИКОГДА не выполняйте задачу только одной моделью! Всегда используйте обе модели в последовательности: Sonnet 4.5 → Composer 1 → Sonnet 4.5**
