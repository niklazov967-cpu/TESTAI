# Конфигурация распределения ролей между моделями Cursor

## Распределение задач между Composer 1 и Sonnet 4.5

### Composer 1 (Основной исполнитель)
**Роль:** Генерация и редактирование кода
**Используется для:**
- Создание новых файлов и компонентов
- Рефакторинг существующего кода
- Исправление синтаксических ошибок
- Реализация функций по спецификации
- Работа с файловой структурой проекта
- Быстрые итерации разработки

**Примеры задач:**
- "Создай новый компонент для..."
- "Исправь ошибку в файле..."
- "Добавь функцию..."
- "Рефакторинг кода..."

### Sonnet 4.5 (Аналитик и валидатор)
**Роль:** Анализ, планирование и проверка качества
**Используется для:**
- Архитектурное планирование
- Анализ сложных проблем
- Проверка логики и алгоритмов
- Оптимизация производительности
- Проверка безопасности кода
- Рецензирование кода от Composer 1
- Сложные рассуждения и принятие решений

**Примеры задач:**
- "Проанализируй архитектуру..."
- "Проверь правильность логики..."
- "Найди потенциальные проблемы..."
- "Оптимизируй производительность..."
- "Проверь безопасность..."

## Правила работы

### Последовательность выполнения
1. **Планирование** → Sonnet 4.5 анализирует задачу и создает план
2. **Реализация** → Composer 1 выполняет план и создает код
3. **Проверка** → Sonnet 4.5 проверяет результат и предлагает улучшения
4. **Итерация** → При необходимости цикл повторяется

### Автоматическое распределение
- Простые задачи (1-2 файла) → Composer 1
- Средние задачи (3-5 файлов) → Composer 1 + проверка Sonnet 4.5
- Сложные задачи (архитектура, рефакторинг) → Sonnet 4.5 планирует → Composer 1 реализует

### Cycle Agent Count
- Простые задачи: 1-2 цикла
- Средние задачи: 2-3 цикла
- Сложные задачи: 3-5 циклов

## Специфика проекта (Поиск аналогов сталей)

### Composer 1 отвечает за:
- Реализацию API endpoints
- Создание новых этапов обработки
- Работу с клиентами API (Tavily, DeepSeek, OpenAI)
- Управление кэшем и конфигурацией
- Frontend компоненты (HTML, CSS, JS)

### Sonnet 4.5 отвечает за:
- Анализ промптов и их оптимизацию
- Проверку логики валидации
- Оптимизацию алгоритмов поиска
- Анализ производительности конвейера
- Проверку корректности химических формул и расчетов

## Инструкции для моделей

### При работе с промптами:
- Sonnet 4.5 анализирует эффективность промптов
- Composer 1 реализует изменения в файлах промптов

### При работе с API:
- Sonnet 4.5 планирует структуру запросов и обработку ошибок
- Composer 1 реализует клиенты и обработчики

### При работе с валидацией:
- Sonnet 4.5 проверяет логику валидации и веса критериев
- Composer 1 реализует изменения в коде валидации
